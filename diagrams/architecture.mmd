flowchart TB
  Operator["Operator / CI<br/>(Terraform, kubectl)"]

  subgraph AWS["AWS Account · eu-central-1"]
    subgraph VPC["VPC · 10.0.0.0/16"]

      subgraph Public["Public Subnets"]
        IGW["Internet Gateway"]
        NAT["NAT Gateway"]
        ALB["AWS Load Balancers"]
      end

      subgraph Private["Private Subnets"]
        Nodes["EKS Managed Node Groups<br/>Amazon Linux 2023"]
        Pods["Kubernetes Workloads"]
      end

      S3EP["S3 Gateway Endpoint"]
    end

    EKS["Amazon EKS Control Plane"]
    ACM["AWS ACM"]
  end

  CF["Cloudflare DNS"]
  S3["Amazon S3"]
  TFSTATE["Terraform Backend<br/>(S3 + DynamoDB)"]
  Internet["Public Internet"]

  Operator --> TFSTATE
  Operator --> EKS

  Nodes --> EKS
  Pods --> Nodes

  Pods --> NAT --> IGW --> Internet
  Pods --> S3EP --> S3

  ACM --> CF
  ALB --> Internet
